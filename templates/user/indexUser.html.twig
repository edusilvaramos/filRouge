{% extends 'base.html.twig' %}

{% block title %}User Index
{% endblock %}

{% block body %}
	<div class="container mt-5 mb-5">
		<h1 class="mb-4 text-center text-success">User Index</h1>

		<div class="p-3 bg-light shadow rounded">
			<div class="table-responsive rounded">
				<table class="table table-striped table-hover table-bordered align-middle">
					<thead class="table-primary">
						<tr>
							<th>ID</th>
							<th>Email</th>
							<th>Roles</th>
							<th>First Name</th>
							<th>Last Name</th>
							<th>Birthday</th>
							<th>Telephone</th>
							<th>Photo</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						{% if app.user %}
							<tr>
								<td>{{ app.user.id }}</td>
								<td>{{ app.user.email }}</td>
								<td>{{ app.user.roles ? app.user.roles|json_encode : '' }}</td>
								<td>{{ app.user.firstName }}</td>
								<td>{{ app.user.lastName }}</td>
								<td>{{ app.user.birthday ? app.user.birthday|date('Y-m-d') : 'N/A' }}</td>
								<td>{{ app.user.telephone }}</td>
								<td>
									<img src="{{ asset('' ~ app.user.photoUser) }}" alt="User Photo" class="img-fluid rounded-circle" style="width: 50px; height: 50px;">
								</td>
								<td class="text-center d-flex  align-items-center gap-2">
									<a href="{{ path('app_user_show', {'id': app.user.id}) }}" class="btn btn-outline-primary btn-sm m-3" aria-label="View">
										<i class="bi bi-eye"></i>
									</a>
									<a href="{{ path('app_user_edit', {'id': app.user.id}) }}" class="btn btn-outline-warning btn-sm m-3" aria-label="Edit">
										<i class="bi bi-pencil-fill"></i>
									</a>
								</td>
							</tr>
						{% else %}
							<tr>
								<td colspan="9" class="text-center">No records found</td>
							</tr>
						{% endif %}
					</tbody>
				</table>
			</div>

			<div class="text-center mt-4">
				<a href="{{ path('app_user_new') }}" class="btn btn-success btn-lg">
					<i class="bi bi-plus-circle"></i>
					Create New
				</a>
			</div>
		</div>
	</div>
{% endblock %}
